<div class="container-fluid w-50 shadow mt-5 rounded border p-4 bg-gradient bgcolor text-light">
  <h1>Result Details</h1>

  <p>
    <strong>User:</strong>
    <%= @result.user.username %>
  </p>

  <p>
    <strong>Score:</strong>
    <%= @result.score %>
  </p>

  <p>
    <strong>Assessment:</strong>
    <%= @assessment.title %>
  </p>

  <p>
    <strong>Project:</strong>
    <%= @project.title %>
  </p>

  <h3>Questions</h3>
    <ol>
      <% @result.user_answers.includes(:question, :selected_option).each do |user_answer| %>
        <% question = user_answer.question %>
        <% selected_option = user_answer.selected_option %>
        <% correct_option = question.options.find_by(correct: true) %>
        <li>
          <strong>Question:</strong> <%= question.content %><br>
          <strong>Selected Answer:</strong> <%= selected_option ? selected_option.content : 'No answer selected' %><br>
          <strong>Correct Answer:</strong> <%= correct_option ? correct_option.content : 'No correct option' %>
        </li>
      <% end %>
    </ol>

  <p>
    <strong>Want to Delete?</strong>
    <%= link_to 'Delete', admin_project_assessment_result_path(@project, @assessment, @result), method: :delete, data: { confirm: 'Are you sure?' }, class: 'linkcolor' %>        
  </p>
  <%= link_to 'Back to Results', admin_project_assessment_results_path(@project, @assessment), class: 'btn btn-light' %>
</div>
